import{T as g,j as v,o as i,f as x,a as l,u as s,w as a,F as U,Z as y,b as u,t as f,c,g as b,d as V,e as $}from"./app-2ae77ac8.js";import{_ as k}from"./AuthenticatedLayout-389c3761.js";import{B}from"./Block-eda37ec2.js";import{_ as n}from"./FieldInput-aa6d8962.js";import{_ as N}from"./PrimaryButton-0b7e58e4.js";import{_ as C}from"./NeutralButton-b34cb7fb.js";import{_ as S}from"./FieldSelect-00e78f76.js";import"./_plugin-vue_export-helper-c27b6911.js";const A={class:"font-semibold text-lg"},E={class:"flex flex-row-reverse space-x-2 space-x-reverse"},R={__name:"Edit",props:["user","roles"],setup(t){const m=t,e=g({id:null,name:"",email:"",role:"User",password:"",...m.user}),d=v(()=>e.id?"Update":"Create"),_=()=>{e.id?e.put(route("user.update",e.id),{onSuccess:()=>e.reset("password")}):e.post(route("user.store"),{onSuccess:()=>{e.defaults({...m.user}),e.reset()}})},w=()=>{window.confirm("Are you sure?")&&e.delete(route("user.destroy",e.id))};return(p,r)=>(i(),x(U,null,[l(s(y),{title:`${d.value} User`},null,8,["title"]),l(k,null,{default:a(()=>[l(B,null,{default:a(()=>[u("h2",A,f(d.value)+" User",1),u("form",{class:"flex flex-col space-y-4",onSubmit:$(_,["prevent"])},[l(n,{label:"Name",disabled:s(e).processing,modelValue:s(e).name,"onUpdate:modelValue":r[0]||(r[0]=o=>s(e).name=o),error:s(e).errors.name},null,8,["disabled","modelValue","error"]),l(n,{label:"Email",disabled:s(e).processing,modelValue:s(e).email,"onUpdate:modelValue":r[1]||(r[1]=o=>s(e).email=o),error:s(e).errors.email},null,8,["disabled","modelValue","error"]),l(n,{label:"Password",disabled:s(e).processing,type:"password",modelValue:s(e).password,"onUpdate:modelValue":r[2]||(r[2]=o=>s(e).password=o),error:s(e).errors.password},null,8,["disabled","modelValue","error"]),Object.values(t.roles).length&&p.$page.props.auth.user.role==="Admin"?(i(),c(S,{key:0,modelValue:s(e).role,"onUpdate:modelValue":r[3]||(r[3]=o=>s(e).role=o),label:"Role",allowAny:!1,disabled:s(e).processing,error:s(e).errors.role,options:t.roles},null,8,["modelValue","disabled","error","options"])):b("",!0),u("div",E,[l(N,{submit:!0,disabled:s(e).processing},{default:a(()=>[V(f(d.value),1)]),_:1},8,["disabled"]),s(e).id&&s(e).id!==p.$page.props.auth.user.id?(i(),c(C,{key:0,disabled:s(e).processing,onClick:w},{default:a(()=>[V(" Delete ")]),_:1},8,["disabled"])):b("",!0)])],32)]),_:1})]),_:1})],64))}};export{R as default};
