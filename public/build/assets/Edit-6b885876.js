import{T as w,j as g,o as i,f as v,a as l,u as s,w as a,F as $,Z as U,b as p,c as f,g as c,d as b,t as x,e as y}from"./app-efe6f0e5.js";import{_ as k}from"./AuthenticatedLayout-dfbae5eb.js";import{_ as N}from"./Block-1b01389e.js";import{_ as u}from"./FieldInput-7a17a4db.js";import{_ as B}from"./PrimaryButton-37729bfe.js";import{_ as C}from"./NeutralButton-ff868e4a.js";import{_ as S}from"./FieldSelect-7a840c38.js";const A={class:"flex flex-row-reverse space-x-2 space-x-reverse"},P={__name:"Edit",props:["user","roles"],setup(t){const n=t,e=w({id:null,name:"",email:"",role:"User",password:"",...n.user}),d=g(()=>e.id?"Update":"Create"),V=()=>{e.id?e.put(route("user.update",e.id),{onSuccess:()=>e.reset("password")}):e.post(route("user.store"),{onSuccess:()=>{e.defaults({...n.user}),e.reset()}})},_=()=>{window.confirm("Are you sure?")&&e.delete(route("user.destroy",e.id))};return(m,r)=>(i(),v($,null,[l(s(U),{title:`${d.value} User`},null,8,["title"]),l(k,null,{default:a(()=>[l(N,{title:`${d.value} User`},{default:a(()=>[p("form",{class:"flex flex-col space-y-4",onSubmit:y(V,["prevent"])},[l(u,{label:"Name",disabled:s(e).processing,modelValue:s(e).name,"onUpdate:modelValue":r[0]||(r[0]=o=>s(e).name=o),error:s(e).errors.name},null,8,["disabled","modelValue","error"]),l(u,{label:"Email",disabled:s(e).processing,modelValue:s(e).email,"onUpdate:modelValue":r[1]||(r[1]=o=>s(e).email=o),error:s(e).errors.email},null,8,["disabled","modelValue","error"]),l(u,{label:"Password",disabled:s(e).processing,type:"password",modelValue:s(e).password,"onUpdate:modelValue":r[2]||(r[2]=o=>s(e).password=o),error:s(e).errors.password},null,8,["disabled","modelValue","error"]),Object.values(t.roles).length&&m.$page.props.auth.user.role==="Admin"?(i(),f(S,{key:0,modelValue:s(e).role,"onUpdate:modelValue":r[3]||(r[3]=o=>s(e).role=o),label:"Role",allowAny:!1,disabled:s(e).processing,error:s(e).errors.role,options:t.roles},null,8,["modelValue","disabled","error","options"])):c("",!0),p("div",A,[l(B,{submit:!0,disabled:s(e).processing},{default:a(()=>[b(x(d.value),1)]),_:1},8,["disabled"]),s(e).id&&s(e).id!==m.$page.props.auth.user.id?(i(),f(C,{key:0,disabled:s(e).processing,onClick:_},{default:a(()=>[b(" Delete ")]),_:1},8,["disabled"])):c("",!0)])],32)]),_:1},8,["title"])]),_:1})],64))}};export{P as default};
